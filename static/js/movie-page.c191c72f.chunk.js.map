{"version":3,"file":"static/js/movie-page.c191c72f.chunk.js","mappings":"mQAEaA,EAAgBC,EAAAA,EAAAA,KAAH,oGAMTC,EAAYD,EAAAA,EAAAA,MAAH,+TAcTE,EAASF,EAAAA,EAAAA,OAAH,0Z,GAiBCA,EAAAA,EAAAA,GAAH,+C,yDChCN,SAASG,IACpB,OAAoCC,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAA4BF,EAAAA,EAAAA,UAAS,MAArC,eAAOG,EAAP,KAAeC,EAAf,KACA,GAA0BC,EAAAA,EAAAA,MAA1B,eAAOC,EAAP,KAAcC,EAAd,KACMC,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACN,GAAKJ,EAAMK,IAAI,SAAf,CAKA,IAAMC,EAAO,mCAAG,oGACMC,EAAAA,GAAoBP,EAAMK,IAAI,UADpC,OACVG,EADU,OAEhBV,EAAUU,GACa,IAAnBA,EAAQC,QACRC,EAAAA,OAAAA,KAAY,uBAJA,2CAAH,qDAObJ,SAXAR,EAAU,QAYX,CAACE,IAeJ,OACI,iCACA,UAACX,EAAD,CAAesB,aAAa,MAAMC,SAXjB,SAAAC,GACjBA,EAAEC,iBACGnB,GACDe,EAAAA,OAAAA,KAAY,0BAEhBT,EAAS,CAAED,MAAOL,IAClBC,EAAc,KAKd,WACI,SAACL,EAAD,CACAwB,KAAK,OACLC,MAAOrB,EACPsB,SAnBmB,SAAAJ,GACvBjB,EAAciB,EAAEK,cAAcF,WAoB1B,SAACxB,EAAD,CAAQuB,KAAK,SAAb,wBAEFlB,GAAUG,EAAMK,IAAI,WAAY,SAACc,EAAA,EAAD,IACjCtB,IACG,wBACCA,EAAOuB,KAAI,SAAAC,GAAU,IAAD,EACjB,OACA,yBACI,SAAC,KAAD,CACAC,GAAE,UAAKD,EAAME,IACbC,MAAO,CACHC,KAAMvB,GAHV,mBAMCmB,EAAMK,aANP,QAMgBL,EAAMM,QAPjBN,EAAME,c,6NCrDzBK,G,OAAU,oCAChBC,IAAAA,SAAAA,QAAyB,+BAElB,IAAMC,EAAiB,mCAAG,6GAEFD,IAAAA,IAAA,oCAAuCD,IAFrC,cAEnBG,EAFmB,yBAGlBA,EAASC,KAAKxB,SAHI,gCAKzBE,EAAAA,OAAAA,KAAA,UAAe,KAAMuB,OALI,iEAAH,qDASjBC,EAAe,mCAAG,WAAMC,GAAN,gGAEAN,IAAAA,IAAA,gCAAmCD,EAAnC,kBAAoDO,IAFpD,cAEjBJ,EAFiB,yBAGhBA,EAASC,KAAKxB,SAHE,gCAKvBE,EAAAA,OAAAA,KAAA,UAAe,KAAMuB,OALE,iEAAH,sDASfG,EAAe,mCAAG,WAAMb,GAAN,gGAEAM,IAAAA,IAAA,iBAAoBN,EAApB,oBAAkCK,IAFlC,cAEjBG,EAFiB,yBAGhBA,EAASC,MAHO,gCAKvBtB,EAAAA,OAAAA,KAAA,UAAe,KAAMuB,OALE,iEAAH,sDASfI,EAAe,mCAAG,WAAMd,GAAN,gGAEAM,IAAAA,IAAA,iBAAoBN,EAApB,4BAA0CK,IAF1C,cAEjBG,EAFiB,yBAGhBA,EAASC,KAAKM,MAHE,gCAKvB5B,EAAAA,OAAAA,KAAA,UAAe,KAAMuB,OALE,iEAAH,sDASfM,EAAe,mCAAG,WAAMhB,GAAN,gGAEAM,IAAAA,IAAA,iBAAoBN,EAApB,4BAA0CK,IAF1C,cAEjBG,EAFiB,yBAGhBA,EAASC,KAAKxB,SAHE,gCAKvBE,EAAAA,OAAAA,KAAA,UAAe,KAAMuB,OACgB,KANd,iEAAH","sources":["pages/MoviesPage/MoviesPage.styled.jsx","pages/MoviesPage/MoviesPage.jsx","services/api.js"],"sourcesContent":["import styled from '@emotion/styled';\n\nexport const FormContainer = styled.form`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n\n    export const FormInput = styled.input`\n    height: 30px;\n    font-size: 24px;\n    padding-left: 5px;\n    border: 1px solid rgba(33, 33, 33, 0.2);\n    border-radius: 4px;\n    outline: none;\n    cursor: pointer;\n    transition: border 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    :focus {\n        border: 1px solid #2f21f3;\n    }\n`;\n\n    export const Button = styled.button`\n    height: 32px;\n    font-size: 16px;\n    cursor: pointer;\n    color: white;\n    background-color: #2f21f3;\n    border-radius: 4px;\n    border: 1px solid transparent;\n    box-shadow: 0px 4px 4px rgb(0 0 0 / 15%);\n    transition: background-color 250ms cubic-bezier(0.4, 0, 0.2, 1);\n    margin-left: 10px;\n    :hover,\n    :focus {\n        background-color: #7068d8;\n    }\n`;\n\nexport const ListItem = styled.li`\n    padding: 5px 0px;\n`;","import { useState, useEffect } from 'react';\nimport { FormContainer, FormInput, Button } from './MoviesPage.styled';\nimport { useSearchParams, Link, useLocation } from 'react-router-dom';\nimport { Loader } from \"components/Loader/Loader\"\nimport *as API from \"../../services/api\";\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nexport default function MoviesPage() {\n    const [inputValue, setInputValue] = useState('');\n    const [movies, setMovies] = useState(null);\n    const [query, setQuery] = useSearchParams();\n    const location = useLocation();\n\n    useEffect(() => {\n        if (!query.get('query')) {\n        setMovies(null);\n        return;\n        }\n\n        const getData = async () => {\n        const results = await API.getSearchMovies(query.get('query'));\n        setMovies(results);\n        if (results.length === 0) {\n            Notify.info('Movies is not found');\n        }\n        };\n        getData();\n    }, [query]);\n\n    const handleSearchChange = e => {\n        setInputValue(e.currentTarget.value);\n    };\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        if (!inputValue) {\n            Notify.info('Please enter film name');\n        }\n        setQuery({ query: inputValue });\n        setInputValue('');\n    };\n\n    return (\n        <>\n        <FormContainer autoComplete=\"off\" onSubmit={handleSubmit}>\n            <FormInput\n            type=\"text\"\n            value={inputValue}\n            onChange={handleSearchChange}\n            />\n            <Button type=\"submit\">Search</Button>\n        </FormContainer>\n        {!movies && query.get('query') && <Loader />}\n        {movies && (\n            <ul>\n            {movies.map(movie => {\n                return (\n                <li key={movie.id}>\n                    <Link\n                    to={`${movie.id}`}\n                    state={{\n                        from: location,\n                    }}\n                    >\n                    {movie.title ?? movie.name}\n                    </Link>\n                </li>\n                );\n            })}\n            </ul>\n        )}\n        </>\n    );\n}","import { Link } from \"react-router-dom\";\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\nimport axios from 'axios';\n\nconst API_KEY = '07d8f6bb3fbc4adc66305e6fcf7baef2';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const getTrendingMovies = async () => {\n    try {\n        const response = await axios.get(`/trending/all/day?api_key=${API_KEY}`);\n        return response.data.results;\n    } catch (error) {\n        Notify.info(`${error.code}`);\n    };\n};\n\nexport const getSearchMovies = async searchQuery => {\n    try {\n        const response = await axios.get(`/search/movie?api_key=${API_KEY}&query=${searchQuery}`);\n        return response.data.results;\n    } catch (error) {\n        Notify.info(`${error.code}`);\n    };\n};\n\nexport const getMovieDetails = async id => {\n    try {\n        const response = await axios.get(`/movie/${id}?api_key=${API_KEY}`);\n        return response.data;\n    } catch (error) {\n        Notify.info(`${error.code}`);\n    };\n};\n\nexport const getMovieCredits = async id => {\n    try {\n        const response = await axios.get(`/movie/${id}/credits?api_key=${API_KEY}`);\n        return response.data.cast;\n    } catch (error) {\n        Notify.info(`${error.code}`);\n    };\n};\n\nexport const getMovieReviews = async id => {\n    try {\n        const response = await axios.get(`/movie/${id}/reviews?api_key=${API_KEY}`);\n        return response.data.results;\n    } catch (error) {\n        Notify.info(`${error.code}`);\n                <p>Sorry, page not found :( <Link to=\"/\">Please go to main page</Link></p>\n    };\n};\n\n"],"names":["FormContainer","styled","FormInput","Button","MoviesPage","useState","inputValue","setInputValue","movies","setMovies","useSearchParams","query","setQuery","location","useLocation","useEffect","get","getData","API","results","length","Notify","autoComplete","onSubmit","e","preventDefault","type","value","onChange","currentTarget","Loader","map","movie","to","id","state","from","title","name","API_KEY","axios","getTrendingMovies","response","data","code","getSearchMovies","searchQuery","getMovieDetails","getMovieCredits","cast","getMovieReviews"],"sourceRoot":""}